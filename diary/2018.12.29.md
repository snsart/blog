## [<<目录](https://github.com/snsart/blog/blob/master/README.md)

## 欧拉角与万向节死锁
### 欧拉角
给定空间中的一个刚体，欧拉角可用来确定此刚体的方向，欧拉角由三个独立的角参量组成，由章动角 θ、旋进角（即进动角）ψ和自转角j组成。<br>
![欧拉角](https://github.com/snsart/blog/blob/master/diary/images/2018122901.jpg);<br>
需要注意的是，给定一组欧拉角，比如（α，β，γ），并不能唯一确定物体的方向，还需要注意以下两点：
1. 坐标系：需要确定刚体是相对于那个坐标系旋转的，是旋转的刚体坐标轴还是全局的静止不动的坐标轴。
2. 旋转顺序：不同的旋转顺序最终结果是不一样的。

### threejs中的欧拉角与万向节死锁
three.js中场景里的物体都属于Object3D这个类。这个类中有表示物体朝向的一个属性–rotation，这是一个欧拉类型的值，有三个轴旋转的角度，单位是π，还有一个旋转的顺序组成。要使物体旋转可以改动这个rotation的值。比如让物体按Y轴正方向旋转45°可以写成 object3D.rotation.y+=0.25*Math.PI。这里的旋转顺序默认使用的是‘XYZ’顺序。另外Object3D 还提供了几个方法来进行旋转，rotateX(angle),rotateY(angle),rotateZ(angle),分别是按照X，Y，Z轴的正反向旋转一个角度。但具体使用的时候和 object3D.rotation.y+=0.25*Math.PI 这种方式还是有一些区别的。另外还有一个方法是rotateOnAxis(axis,angle) 可以指定旋转的轴，这里的axis是一个Vector3类型的值。<br>
threejs中物体的旋转顺序是x->y->z，如下图x在最外层，y在中间，z在最里面。x处于最高级，当x轴向转动时，它的子层级y和z都会随之转动；当y旋转时，会影响到z；当z轴转动时，只会影响到物体，不会影响到x和y坐标轴。<br>
![死锁演示](https://github.com/snsart/blog/blob/master/diary/images/2018122902.jpg)<br>
![死锁演示](https://github.com/snsart/blog/blob/master/diary/images/2018122903.gif)<br>
万向节死锁，指的是在旋转过程中，有两个轴发生了重叠，导致少了一个自由度的问题，比如，当y旋转90度时，会导致x和z轴重合，因为y的旋转导致z轴旋转了90度，而x轴不变。下面是死锁现象：<br>
![死锁演示](https://github.com/snsart/blog/blob/master/diary/images/2018122903.jpg)<br>
<br>

* 参考资料：<br>
[万向节死锁视频](https://github.com/snsart/blog/blob/master/diary/images/2018122902.jpg)<br>
[万向节死锁](https://blog.csdn.net/andrewfan/article/details/60981437)<br>
