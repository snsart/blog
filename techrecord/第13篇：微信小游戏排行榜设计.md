一、如何获取好友关系链数据

wx.getFriendCloudStorage({
    keyList: ["score"],
    success: function (res) {
      var data = res.data;
      for (let i = 0; i < data.length; i++) {
        var obj = {
          key: i,
          name: data[i].nickname,
          url: data[i].avatarUrl,
          img: null,
          scroes: data[i].KVDataList.length == 0 ? 0 : data[i].KVDataList[0].value
        }
        totalGroup.push(obj);
      }
      totalGroup.sort(compare);
      for (let i = 0; i < totalGroup.length; i++) {
        const img = wx.createImage();
        img.src = totalGroup[i].url;
        totalGroup[i].img = img;
        totalGroup[i].key = i + 1;
      }
    },
    fail: function () {
      console.log("fail");
    }
})

二、如何更新好友关系数据

postMessage(data) {
        const openDataContext = wx.getOpenDataContext();
        openDataContext.postMessage(data);
    }

wx.setUserCloudStorage({
            KVDataList: [{
              key:"score",
              value:JSON.stringify(gameScoreData),
            },{
              key:"lastDate",
              value:dateTamp.week}
            ],

            success: function (res) {
              console.log('--success res:', res);
              resolve();
            },
            fail: function (res) {
              console.log('--fail res:', res);
            },
            complete: function (res) {
              console.log('--complete res:', res);
            },       
})

三、如何显示好友排行榜


